tests = [
    's00.basic',
    's01.bug.wrong_view_value',
    's02.bug.c0cn_dup_keys',
    's03.multcur_multview',
    's04.bug.skidx_not_init',
    's05.bug.skidx_not_in_c0_kvset',
    's06.ten_tx',
    's07.bug.update_add_key',
    's08.bug.update_new_kvms',
    's09.delfail',
    's10.cn_update',
    's11.txdel',
    's12.cache',
    's13.cache_delay',
    's14.seek_tomb',
    's15.txcursor',
    's16.bind',
    's17.update_no_seek',
    's18.nostale',
    's19.cn_seqno',
    's20.update_views',
    's21.update_seek',
    's22.txn-seek-del-put-next',
    's23.seek-del-put-next',
    's24.abort-destroy',
    's25.ingested_key',
    's26.bind_commited',
    's27.rev_basic',
    's28.tombspan',
    's29.pos_stab',
    's30.sfx_test_cn',
    's31.sfx_test_c0',
    's32.sfx_test_c0cn',
    's33.sfx_test_txn',
    's34.sfx_test_tomb',
    's35.ptomb_cursor',
    's36.ptomb_cursor2',
]

foreach t : tests
    test(
        t,
        python,
        args: [
            '@0@.py'.format(t),
            get_option('kvpy-kvdb'),
        ],
        depends: [hse_python_extension_modules],
        workdir: meson.current_source_dir(),
        is_parallel: false,
        suite: ['functional', 'kvpy'],
    )
endforeach
